# FIDUS MT5 Integration - Quick Setup Reference

## ðŸš€ Single Command Setup

### 1. VPS Setup (Windows)
```powershell
# Download and run the setup script:
# Right-click setup_mt5_bridge.ps1 â†’ Run with PowerShell
```

### 2. Configuration Keys
The script generates these keys automatically:
```env
# Example output (yours will be different):
MT5_BRIDGE_API_KEY=FIDUS-MT5-PROD-123456-20251004
MT5_ENCRYPTION_KEY=RklEVVMtTVQ1LUVOQy1LRVktMTIzNDU2LTIwMjUxMDA0
```

### 3. FIDUS Backend Configuration
Add to `/app/backend/.env`:
```env
# Use the EXACT keys generated by VPS script:
MT5_BRIDGE_URL=http://217.197.163.11:8000
MT5_BRIDGE_API_KEY=<key_from_vps_setup>
MT5_BRIDGE_TIMEOUT=30
MT5_ENCRYPTION_KEY=<key_from_vps_setup>
```

### 4. Test Commands
```bash
# Restart FIDUS backend:
sudo supervisorctl restart backend

# Test health:
curl http://localhost:8001/api/health

# Test bridge (with admin token):
curl -H "Authorization: Bearer <token>" \
     http://localhost:8001/api/mt5/bridge/health
```

---

## ðŸ“‹ Quick Checklist

**VPS (Windows):**
- [ ] Run setup_mt5_bridge.ps1
- [ ] Install MetaTrader 5 terminal  
- [ ] Configure .env with MT5 credentials
- [ ] Start service: `C:\mt5_bridge_service\start_service.bat`
- [ ] Test: `http://localhost:8000/health`

**FIDUS Backend:**
- [ ] Add VPS keys to .env file
- [ ] Restart backend service
- [ ] Test /api/health endpoint
- [ ] Test MT5 connection in admin panel

**Integration Test:**
- [ ] Login to FIDUS admin
- [ ] Go to MT5 Management
- [ ] Test MT5 connection
- [ ] Create MT5 account link
- [ ] Verify data sync

---

## ðŸ”§ Troubleshooting Quick Fixes

| Problem | Quick Fix |
|---------|-----------|
| Script fails | Run PowerShell as Administrator |
| Python not found | Install Python 3.11+ with PATH option |
| Service won't start | Ensure MT5 terminal is running |
| Connection refused | Check Windows Firewall (port 8000) |
| Invalid API key | Ensure same key in VPS and FIDUS .env |
| MT5 login fails | Verify MT5 credentials in VPS .env |

---

## ðŸ“ž Support Files

**Setup Script:** `/app/mt5_bridge_service/setup_mt5_bridge.ps1`  
**Configuration Helper:** `/app/backend/scripts/update_mt5_config.py`  
**Full Guide:** `/app/MT5_INTEGRATION_SETUP_GUIDE.md`  

**Generated by:** FIDUS Phase 3 Implementation  
**Date:** January 4, 2025